"use strict";function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function i(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}var n=function(){function e(){t(this,e),this.textWrap=document.getElementById("text"),this.title="",this.message="",this.langIsEng=!1}return i(e,[{key:"init",value:function(){console.log("init"),this.getText()}},{key:"getText",value:function(){var t,e,i=(t=window.location.search,e=t.substring(t.lastIndexOf("?")+1),new URLSearchParams(e));if(i.has("createlink"))return new s(i).init(),!1;i.has("en")&&(this.langIsEng=!0),i.has("t")&&(this.title=i.get("t")),i.has("m")&&(this.message=i.get("m")),this.showText()}},{key:"showText",value:function(){if(console.log(this.title),console.log(this.message),this.title){var t=document.createElement("h1");t.innerHTML=this.title,this.textWrap.appendChild(t)}if(this.message){var e=document.createElement("p");e.innerHTML=this.message,this.textWrap.appendChild(e)}}}]),e}(),s=function(){function e(){t(this,e),this.title,this.message,this.form,this.inputTitle,this.inpitMessage,this.buttonSubmit,this.linkCounter=1}return i(e,[{key:"init",value:function(){this.appendForm()}},{key:"appendForm",value:function(){var t=this;this.form=document.createElement("div"),this.form.setAttribute("id","form"),document.body.appendChild(this.form),this.inputTitle=document.createElement("input"),this.inputTitle.setAttribute("placeholder","title"),this.form.appendChild(this.inputTitle),this.inputMessage=document.createElement("textarea"),this.inputMessage.setAttribute("placeholder","message"),this.form.appendChild(this.inputMessage),this.buttonSubmit=document.createElement("button"),this.buttonSubmit.innerHTML="create",this.form.appendChild(this.buttonSubmit),this.buttonSubmit.addEventListener("click",(function(){t.title=t.inputTitle.value,t.message=t.inputMessage.value,t.createLink()}))}},{key:"createLink",value:function(){this.title&&(this.title=encodeURI(this.title)),this.message&&(this.message=encodeURI(this.message));var t=document.getElementById("link"),e="https://avcexyegonet.github.io/dist/?t=".concat(this.title,"&m=").concat(this.message);if(t)t.setAttribute("href",e),this.linkCounter++,t.innerHTML="link ".concat(this.linkCounter);else{var i=document.createElement("a");i.innerHTML="link",i.setAttribute("id","link"),i.setAttribute("href",e),i.setAttribute("target","_blanck"),this.form.appendChild(i)}}}]),e}();document.addEventListener("DOMContentLoaded",(function(){(new n).init()}));